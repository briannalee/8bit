(()=>{"use strict";var t={235:(t,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Canvas=void 0;var s=n(490),e=function(){function t(t){var i;if(this.environment=t,document.body.style.backgroundColor="black",!(this.canvas=document.getElementById("viewport")))throw new Error("Unable to create canvas");if(!(this.context=this.canvas.getContext("2d")))throw new Error("2d context not supported or canvas already initialized");var n=this;this.canvas.addEventListener("mousedown",(function(t){n.mouseClickEvent(t,n)})),window.addEventListener("resize",(function(t){})),null===(i=document.getElementById("compute"))||void 0===i||i.addEventListener("click",(function(t){(0,s.Compute)(n.environment)})),this.canvas.width=innerWidth,this.canvas.height=innerHeight,this.drawLine()}return t.prototype.getMousePosition=function(t){var i=this.canvas.getBoundingClientRect();return{x:t.clientX-i.left,y:t.clientY-i.top}},t.prototype.mouseClickEvent=function(t,i){for(var n=i.getMousePosition(t),s=(n.y,0);s<i.environment.rows;s++){var e=i.environment.spacing,r=i.environment.startY,o=i.environment.startX,a=i.environment.radius;if(n.y>r+s*e&&n.y<i.environment.startY+s*e+e)for(var h=0;h<i.environment.columns;h++)n.x>o-a+h*e&&n.x<i.environment.startX+a+h*e&&i.environment.circles[s][h].switchBit()}},t.prototype.drawLine=function(){this.context.beginPath();var t=this.environment.startY+this.environment.spacing/4+this.environment.rows*this.environment.spacing,i=this.environment.startX-this.environment.radius;this.context.moveTo(i,t),this.context.lineTo(i+this.environment.columns*this.environment.spacing,t),this.context.strokeStyle="white",this.context.stroke(),this.context.closePath()},t.prototype.drawButtons=function(){},t}();i.Canvas=e},50:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Circle=void 0;var n=function(){function t(t,i,n,s,e){this.x=t,this.y=i,this.set=null!=e&&e,this.radius=n,this.left=t-n,this.top=i-n,this.right=t+n,this.bottom=i+n,this.context=s,this.draw(this.context)}return t.prototype.switchBit=function(){this.set=!this.set,this.draw(this.context)},t.prototype.setBit=function(t){this.set=t,this.draw(this.context)},t.prototype.draw=function(t){t.clearRect(this.left-2,this.top-2,2*this.radius+4,2*this.radius+4),t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.set?"white":"#0f0f0f",t.fill(),t.closePath()},t}();i.Circle=n},824:(t,i,n)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Environment=void 0;var s=n(50),e=n(235);i.Environment=function(t,i){this.columns=null!=t?t:8,this.rows=null!=i?i:2;var n=innerWidth/2/this.columns-10;this.radius=n<10?10:n,this.spacing=2*this.radius+5,this.startX=innerWidth/2+this.radius-10-this.columns*this.spacing/2,this.startY=innerHeight/2-this.radius+10-(this.rows+1)*this.spacing/2,this.circles=new Array(this.rows),this.canvas=new e.Canvas(this),this.results=new Array(this.columns);for(var r=0;r<this.columns;r++)this.results[r]=new s.Circle(this.startX+r*this.spacing,this.startY+this.radius+this.spacing*this.rows+this.spacing/2,this.radius,this.canvas.context);for(var o=0;o<this.rows;o++)for(this.circles[o]=new Array(this.columns),r=0;r<this.columns;r++)this.circles[o][r]=new s.Circle(this.startX+r*this.spacing,this.startY+this.radius+this.spacing*o,this.radius,this.canvas.context)}},490:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Compute=void 0,i.Compute=function(t){for(var i=new Array(t.rows),n=0,s=0;s<t.rows;s++){i[s]=0;for(var e=t.columns-1;e>=0;e--)t.circles[s][e].set&&(i[s]+=Math.pow(2,t.columns-1-e));n+=i[s]}var r=function(t,i){var n=[0];i=null!=i?i:32;for(var s=0;s<i;s++){var e=t&1<<s;n[s]=0===e?0:1}return n}(n),o=0;for(e=t.columns-1;e>=0;e--)t.results[e].setBit(r[o]>0),o++}}},i={};new(function n(s){var e=i[s];if(void 0!==e)return e.exports;var r=i[s]={exports:{}};return t[s](r,r.exports,n),r.exports}(824).Environment)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUdBLElBQzVCRSxFQUFJaEMsUUFBUStCLEdBQUdELEdBQUdsQixNQUNsQnFCLEVBQVFGLElBQU1YLEtBQUtjLElBQUksRUFBR0YsRUFBSWpDLFFBQVEsRUFBRStCLElBR2hERCxHQUFXSSxFQUFRRixFLENBSXZCLElBQUlJLEVBY1IsU0FBeUJDLEVBQWNDLEdBQ25DLElBQU1DLEVBQWEsQ0FBQyxHQUNwQkQsRUFBTUEsUUFBQUEsRUFBUSxHQUNkLElBQUssSUFBSUUsRUFBRSxFQUFHQSxFQUFFRixFQUFNRSxJQUFLLENBQ3ZCLElBRU10QixFQUFNbUIsRUFGRCxHQUVnQkcsRUFHdkJELEVBQVdDLEdBREosSUFBUnRCLEVBQ2lCLEVBRUEsQyxDQUl4QixPQUFPcUIsQ0FDWCxDQTlCdUJFLENBQWdCWCxHQUMvQlksRUFBZ0IsRUFDcEIsSUFBU1gsRUFBSUUsRUFBSWpDLFFBQVEsRUFBRytCLEdBQUssRUFBR0EsSUFDaENFLEVBQUlILFFBQVFDLEdBQUdkLE9BQU9tQixFQUFhTSxHQUFTLEdBQzVDQSxHQUVSLEMsR0M3QklDLEVBQTJCLENBQUMsRUNDVCxJREV2QixTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVJLEVBQVFBLEVBQU9ELFFBQVNKLEdBRy9DSyxFQUFPRCxPQUNmLENDdEJBLE1BRTJCdEIsWSIsInNvdXJjZXMiOlsid2VicGFjazovLzhiaXQvLi9zcmMvY2FudmFzLnRzIiwid2VicGFjazovLzhiaXQvLi9zcmMvY2lyY2xlLnRzIiwid2VicGFjazovLzhiaXQvLi9zcmMvZW52aXJvbm1lbnQudHMiLCJ3ZWJwYWNrOi8vOGJpdC8uL3NyYy9tYXRoLnRzIiwid2VicGFjazovLzhiaXQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vOGJpdC8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbnZpcm9ubWVudCB9IGZyb20gXCIuL2Vudmlyb25tZW50XCI7XG5pbXBvcnQgeyBDb21wdXRlIH0gZnJvbSBcIi4vbWF0aFwiO1xuXG4vKipcbiAqIEludGVyZmFjZSB0byBob2xkIGNvb3JkaW5hdGVzIGZvciBhIG1vdXNlIGNsaWNrIGV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgbW91c2VDbGljayB7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIENhbnZhcyB7XG4gICAgLyoqXG4gICAgICogQ29udGFpbnMgaW5mbyBhYm91dCB0aGUgY2FudmFzIERPTSBvYmplY3RcbiAgICAgKi9cbiAgICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBlbnZpcm9ubWVudDogRW52aXJvbm1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2FudmFzIHRvIGRyYXcgb24sIGhhbmRsaW5nIGlucHV0XG4gICAgICogXG4gICAgICogQHBhcmFtIGVudmlyb25tZW50IC0gVGhlIEVudmlyb25tZW50IGNsYXNzIHRoYXQgY3JlYXRlZCB0aGlzIGNhbnZhc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVudmlyb25tZW50OiBFbnZpcm9ubWVudCkge1xuICAgICAgICB0aGlzLmVudmlyb25tZW50ID0gZW52aXJvbm1lbnQ7XG5cbiAgICAgICAgLy8gU2V0IGJhY2tncm91bmQgY29sb3IgdG8gYmxhY2tcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImJsYWNrXCI7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGNhbnZhcyBhbmQgYXBwZW5kIHRvIHBhZ2UsIHdpdGggZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgaWYgKCEodGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpZXdwb3J0XCIpIGFzIEhUTUxDYW52YXNFbGVtZW50KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGNyZWF0ZSBjYW52YXNcIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBjb250ZXh0LCB3aXRoIGVycm9yIGhhbmRsaW5nXG4gICAgICAgIGlmICghKHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIyZCBjb250ZXh0IG5vdCBzdXBwb3J0ZWQgb3IgY2FudmFzIGFscmVhZHkgaW5pdGlhbGl6ZWRcIik7XG4gICAgICAgIH1cblxuICAgICAgICAvL0FkZCBpbnB1dCBldmVudCBoYW5kbGluZ1xuICAgICAgICBsZXQgY2xhc3NBY2Nlc3NvciA9IHRoaXM7XG4gICAgICAgIHRoaXMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZnVuY3Rpb24oZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2xhc3NBY2Nlc3Nvci5tb3VzZUNsaWNrRXZlbnQoZSwgY2xhc3NBY2Nlc3Nvcik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRPRE86IEhhbmRsZSB3aW5kb3cgcmVzaXplXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIFxuICAgICAgICB9KTtcblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbXB1dGVcIik/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIENvbXB1dGUoY2xhc3NBY2Nlc3Nvci5lbnZpcm9ubWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBpbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBpbm5lckhlaWdodDtcblxuICAgICAgICB0aGlzLmRyYXdMaW5lKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIGV2ZW50IC0gTW91c2UgY2xpY2sgZXZlbnRcbiAgICAgKiBAcmV0dXJucyAtIENvb3JkaW5hdGVzIGFzIG1vdXNlQ2xpY2sgaW50ZXJmYWNlXG4gICAgICovXG4gICAgZ2V0TW91c2VQb3NpdGlvbihldmVudDogTW91c2VFdmVudCkgOiBtb3VzZUNsaWNrIHtcbiAgICAgICAgbGV0IHJlY3QgPSB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0O1xuICAgICAgICBsZXQgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcbiAgICAgICAgcmV0dXJuIHt4OngsIHk6eX1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3RzIHdoaWNoIGNpcmNsZSB3YXMgY2xpY2tlZCBvbiwgYW5kIHN3aXRjaGVzIHRoYXQgYml0XG4gICAgICogXG4gICAgICogQHBhcmFtIGUgLSBUcmlnZ2VyaW5nIGV2ZW50XG4gICAgICogQHBhcmFtIGNhbnZhcyAtIENhbnZhcyBjbGFzcyB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyB1c2VkXG4gICAgICovXG4gICAgbW91c2VDbGlja0V2ZW50KGU6TW91c2VFdmVudCwgY2FudmFzOkNhbnZhcykge1xuICAgICAgICBsZXQgbW91c2VQb3MgOiBtb3VzZUNsaWNrID0gY2FudmFzLmdldE1vdXNlUG9zaXRpb24oZSk7XG4gICAgXG4gICAgICAgIGxldCByb3c6bnVtYmVyID0gbW91c2VQb3MueVxuICAgIFxuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCBjYW52YXMuZW52aXJvbm1lbnQucm93czsgcm93KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNwYWNpbmcgPSBjYW52YXMuZW52aXJvbm1lbnQuc3BhY2luZztcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0WSA9IGNhbnZhcy5lbnZpcm9ubWVudC5zdGFydFk7XG4gICAgICAgICAgICBjb25zdCBzdGFydFggPSBjYW52YXMuZW52aXJvbm1lbnQuc3RhcnRYO1xuICAgICAgICAgICAgY29uc3QgcmFkaXVzID0gY2FudmFzLmVudmlyb25tZW50LnJhZGl1cztcbiAgICAgICAgICAgIGlmICgobW91c2VQb3MueSA+IHN0YXJ0WStyb3cqc3BhY2luZyAmJiBtb3VzZVBvcy55IDwgKGNhbnZhcy5lbnZpcm9ubWVudC5zdGFydFkrcm93KnNwYWNpbmcpK3NwYWNpbmcpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgY29sID0gMDsgY29sIDwgY2FudmFzLmVudmlyb25tZW50LmNvbHVtbnM7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoKG1vdXNlUG9zLnggPiBzdGFydFgtcmFkaXVzK2NvbCpzcGFjaW5nICYmIG1vdXNlUG9zLnggPCBjYW52YXMuZW52aXJvbm1lbnQuc3RhcnRYK3JhZGl1cytjb2wqc3BhY2luZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5lbnZpcm9ubWVudC5jaXJjbGVzW3Jvd11bY29sXS5zd2l0Y2hCaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBkaXZpZGVyIGxpbmUgYmV0d2VlbiB0aGUgbnVtYmVycyBhbmQgcmVzdWx0cyBkaXNwbGF5XG4gICAgICovXG4gICAgZHJhd0xpbmUoKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29uc3QgeVBvcyA6IG51bWJlciA9IHRoaXMuZW52aXJvbm1lbnQuc3RhcnRZK3RoaXMuZW52aXJvbm1lbnQuc3BhY2luZy80K3RoaXMuZW52aXJvbm1lbnQucm93cyp0aGlzLmVudmlyb25tZW50LnNwYWNpbmc7XG4gICAgICAgIGNvbnN0IHhQb3MgOiBudW1iZXIgPSB0aGlzLmVudmlyb25tZW50LnN0YXJ0WCAtIHRoaXMuZW52aXJvbm1lbnQucmFkaXVzO1xuICAgICAgICB0aGlzLmNvbnRleHQubW92ZVRvKHhQb3MsIHlQb3MpO1xuICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKHhQb3MgKyB0aGlzLmVudmlyb25tZW50LmNvbHVtbnMqdGhpcy5lbnZpcm9ubWVudC5zcGFjaW5nLCAgeVBvcyk7XG4gICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9IFwid2hpdGVcIjtcbiAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICB0aGlzLmNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgfVxuXG4gICAgZHJhd0J1dHRvbnMoKSB7XG5cbiAgICB9XG59XG5cblxuXG4iLCJleHBvcnQgY2xhc3MgQ2lyY2xlIHtcbiAgICAvKipcbiAgICAgKiBDbGFzcyB0aGF0IGhvbGRzIGluZm8gYWJvdXQgYSBjaXJjbGUgZHJhd24gb24gYW4gSFRNTCBjYW52YXMsIHJlcHJlc2VudGluZyBhIHZpc3VhbCBiaXQgb2YgZGF0YS5cbiAgICAgKi9cblxuICAgIHNldDpCb29sZWFuO1xuICAgIHg6bnVtYmVyO1xuICAgIHk6bnVtYmVyO1xuICAgIHJhZGl1czpudW1iZXI7XG4gICAgbGVmdDogbnVtYmVyO1xuICAgIHRvcDogbnVtYmVyO1xuICAgIHJpZ2h0OiBudW1iZXI7XG4gICAgYm90dG9tOiBudW1iZXI7XG4gICAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHggQ2VudGVycG9pbnQgWCBjb29yZGluYXRlIHRvIGRyYXcgY2lyY2xlXG4gICAgICogQHBhcmFtIHkgQ2VudGVycG9pbnQgWSBjb29yZGluYXRlIHRvIGRyYXcgY2lyY2xlXG4gICAgICogQHBhcmFtIHJhZGl1cyBSYWRpdXMgb2YgY2lyY2xlIHRvIGRyYXdcbiAgICAgKiBAcGFyYW0gY29udGV4dCBDYW52YXMgY29udGV4dCB0byBkcmF3IG9uXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoeCA6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6bnVtYmVyLCBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpXG4gICAgY29uc3RydWN0b3IoeCA6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6bnVtYmVyLCBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHNldD86Qm9vbGVhbikge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLnNldCA9IHNldCA/PyBmYWxzZTtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG4gICAgICAgIHRoaXMubGVmdCA9IHgtcmFkaXVzO1xuICAgICAgICB0aGlzLnRvcCA9IHktcmFkaXVzO1xuICAgICAgICB0aGlzLnJpZ2h0ID0geCtyYWRpdXM7XG4gICAgICAgIHRoaXMuYm90dG9tID0geStyYWRpdXM7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuZHJhdyh0aGlzLmNvbnRleHQpO1xuICAgIH1cblxuICAgIHN3aXRjaEJpdCgpIHtcbiAgICAgICAgdGhpcy5zZXQgPSAhdGhpcy5zZXQ7XG4gICAgICAgIHRoaXMuZHJhdyh0aGlzLmNvbnRleHQpO1xuICAgIH1cblxuICAgIHNldEJpdChiaXQ6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5zZXQgPSBiaXQ7XG4gICAgICAgIHRoaXMuZHJhdyh0aGlzLmNvbnRleHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIFRoZSBjYW52YXMgY29udGV4dCB0byBkcmF3IG9uXG4gICAgICovXG4gICAgZHJhdyhjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QodGhpcy5sZWZ0LTIsIHRoaXMudG9wLTIsIHRoaXMucmFkaXVzKjIrNCwgdGhpcy5yYWRpdXMqMis0KTtcbiAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgY29udGV4dC5hcmModGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5zZXQgPyBcIndoaXRlXCIgOiBcIiMwZjBmMGZcIjtcbiAgICAgICAgY29udGV4dC5maWxsKCk7XG4gICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgfVxufSIsImltcG9ydCB7IENpcmNsZSB9IGZyb20gXCIuL2NpcmNsZVwiO1xuaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSBcIi4vY2FudmFzXCI7XG5cbmV4cG9ydCBjbGFzcyBFbnZpcm9ubWVudCB7XG4gICAgLyoqXG4gICAgICogQ29udGFpbnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHZpc3VhbCBjYWxjdWxhdG9yXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSwgZmlyc3QgZGltZW5zaW9uIGlzIHRoZSByb3cgKG51bWJlciksIHNlY29uZCBkaW1lbnNpb24gaXMgdGhlIGNvbHVtbiAoYml0KVxuICAgICAqL1xuICAgIGNpcmNsZXM6Q2lyY2xlW11bXTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGNpcmNsZXMgdGhhdCBhcmUgdXNlZCBmb3IgdGhlIHJlc3VsdHMgZGlzcGxheVxuICAgICAqL1xuICAgIHJlc3VsdHM6Q2lyY2xlW107XG5cbiAgICAvKipcbiAgICAgKiBSYWRpdXMgb2YgdGhlIGNpcmNsZSwgY29tcHV0ZWQgYmFzZWQgb24gd2luZG93IHdpZHRoXG4gICAgICovXG4gICAgcmFkaXVzOm51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0aW5nIHBvc2l0aW9uIHRvIGRyYXcgY29sdW1uc1xuICAgICAqL1xuICAgIHN0YXJ0WDpudW1iZXI7XG5cbiAgICAvKipcbiAgICAgKiBTdGFydGluZyBwb3NpdGlvbiB0byBkcmF3IHJvd3NcbiAgICAgKi9cbiAgICBzdGFydFk6bnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogTnVtYmVyIG9mIGJpdHMgKGNvbHVtbnMpIHBlciBudW1iZXJcbiAgICAgKi9cbiAgICBjb2x1bW5zOm51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBudW1iZXJzIChyb3dzKVxuICAgICAqL1xuICAgIHJvd3M6bnVtYmVyO1xuXG4gICAgLyoqXG4gICAgICogU3BhY2luZyBpcyB0aGUgdG90YWwgc3BhY2UgdGhhdCBlYWNoIGNpcmNsZSB0YWtlcyB1cCB3aXRoIHBhZGRpbmdcbiAgICAgKi9cbiAgICBzcGFjaW5nOm51bWJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjYW52YXMgdG8gZHJhdyBvblxuICAgICAqL1xuICAgIGNhbnZhczpDYW52YXM7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2FudmFzIGFuZCBkcmF3cyBjaXJjbGVzIG9uIGl0IHRvIHJlcHJlc2VudCAocm93KSBiaW5hcnkgbnVtYmVycyBvZiAoY29sdW1ucykgYml0IGxlbmd0aC5cbiAgICAgKiBAcGFyYW0gY29sdW1ucyAtIE51bWJlciBvZiBjb2x1bW5zIChiaXRzKVxuICAgICAqIEBwYXJhbSByb3dzIC0gTnVtYmVyIG9mIHJvd3MgKG51bWJlcnMpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKTtcbiAgICBjb25zdHJ1Y3Rvcihjb2x1bW5zPzpudW1iZXIscm93cz86bnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnMgPz8gODtcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cyA/PyAyO1xuICAgICAgICBsZXQgcGFkZGluZyA6IG51bWJlciA9IDU7XG5cbiAgICAgICAgLy8gQ29tcHV0ZSB0aGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVzIHRoYXQgY2FuIGZpdCBpbiB0aGUgd2luZG93XG4gICAgICAgIGxldCBkZXNpcmVkUmFkaXVzOm51bWJlciA9IChpbm5lcldpZHRoLzIpL3RoaXMuY29sdW1ucyAtIHBhZGRpbmcqMjtcbiAgICAgICAgdGhpcy5yYWRpdXMgPSBkZXNpcmVkUmFkaXVzIDwgMTAgPyAxMCA6IGRlc2lyZWRSYWRpdXM7XG4gICAgICAgIHRoaXMuc3BhY2luZyA9ICh0aGlzLnJhZGl1cyoyKStwYWRkaW5nO1xuXG4gICAgICAgIC8vIERldGVybWluZSB0aGUgc3RhcnRpbmcgcG9zaXRpb24gdG8gZHJhdyB0aGUgY2lyY2xlc1xuICAgICAgICB0aGlzLnN0YXJ0WCA9IChpbm5lcldpZHRoLzIpK3RoaXMucmFkaXVzLXBhZGRpbmcqMi0odGhpcy5jb2x1bW5zKnRoaXMuc3BhY2luZykvMjtcbiAgICAgICAgdGhpcy5zdGFydFkgPSAoaW5uZXJIZWlnaHQvMiktdGhpcy5yYWRpdXMrcGFkZGluZyoyLSh0aGlzLnJvd3MrMSkqdGhpcy5zcGFjaW5nLzI7XG5cbiAgICAgICAgLy8gSW5pdCBjaXJjbGUgYXJyYXlcbiAgICAgICAgdGhpcy5jaXJjbGVzID0gbmV3IEFycmF5KHRoaXMucm93cyk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIGNhbnZhcyB0byBkcmF3IG9uXG4gICAgICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcyh0aGlzKTtcblxuICAgICAgICAvLyBDcmVhdGUgdGhlIHJlc3VsdHMgZGlzcGxheVxuICAgICAgICB0aGlzLnJlc3VsdHMgPSBuZXcgQXJyYXkodGhpcy5jb2x1bW5zKTtcbiAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmNvbHVtbnM7IGMrKykge1xuICAgICAgICAgICAgdGhpcy5yZXN1bHRzW2NdPSBuZXcgQ2lyY2xlKHRoaXMuc3RhcnRYICsgYyAqIHRoaXMuc3BhY2luZyx0aGlzLnN0YXJ0WSArIHRoaXMucmFkaXVzICsgdGhpcy5zcGFjaW5nKnRoaXMucm93cyt0aGlzLnNwYWNpbmcvMix0aGlzLnJhZGl1cyx0aGlzLmNhbnZhcy5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlcyB0aGUgY2lyY2xlcyBmb3IgZWFjaCByb3cgKG51bWJlcikgd2l0aCB0aGUgYW1vdW50IG9mIGJpdHMgKGNvbHVtbnMpIHJlcXVlc3RlZC5cbiAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCB0aGlzLnJvd3M7IHIrKykge1xuICAgICAgICAgICAgdGhpcy5jaXJjbGVzW3JdPW5ldyBBcnJheSh0aGlzLmNvbHVtbnMpO1xuICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCB0aGlzLmNvbHVtbnM7IGMrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2lyY2xlc1tyXVtjXT0gbmV3IENpcmNsZSh0aGlzLnN0YXJ0WCArIGMgKiB0aGlzLnNwYWNpbmcsdGhpcy5zdGFydFkgKyB0aGlzLnJhZGl1cyArIHRoaXMuc3BhY2luZypyLHRoaXMucmFkaXVzLHRoaXMuY2FudmFzLmNvbnRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IEVudmlyb25tZW50IH0gZnJvbSBcIi4vZW52aXJvbm1lbnRcIjtcblxuLyoqXG4gKiBDb252ZXJ0cyBiaW5hcnkgcmVwcmVzZW50YXRpb24gdG8gZGVjaW1hbCwgcGVyZm9ybXMgdGhlIGRlc2lyZWQgbWF0aCBmdW5jdGlvbiwgdGhlbiBkaXNwbGF5cyB0aGUgcmVzdWx0cyBpbiBiaW5hcnlcbiAqIEBwYXJhbSBlbnYgLSBFbnZpcm9ubWVudCB1c2VkIHRvIGNvbXB1dGUgdmFsdWVzXG4gKiBcbiAqIFRPRE86IEFsbG93IGNob29zaW5nIG9mIG9wZXJhbmQgKGFkZCxzdWJ0cmFjdCxtdWx0aXBseSxkaXZpZGUpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDb21wdXRlKGVudjogRW52aXJvbm1lbnQpOiB2b2lkIHtcblxuICAgIC8vIENvbnZlcnQgdGhlIGJpbmFyeSBjaXJjbGVzIGludG8gYSBkZWNpbWFsIG51bWJlciBmb3IgZWFjaCByb3dcbiAgICBsZXQgZGVjaW1hbDpudW1iZXJbXSA9IG5ldyBBcnJheShlbnYucm93cylcbiAgICBsZXQgcmVzdWx0czpudW1iZXIgPSAwO1xuICAgIGZvciAobGV0IHIgPSAwOyByIDwgZW52LnJvd3M7IHIrKykge1xuICAgICAgICBkZWNpbWFsW3JdID0gMDtcbiAgICAgICAgZm9yIChsZXQgYyA9IGVudi5jb2x1bW5zLTE7IGMgPj0gMDsgYy0tKSB7XG4gICAgICAgICAgICBpZiAoZW52LmNpcmNsZXNbcl1bY10uc2V0KSB7XG4gICAgICAgICAgICAgICAgZGVjaW1hbFtyXSArPSBNYXRoLnBvdygyLCBlbnYuY29sdW1ucy0xLWMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdHMgKz0gZGVjaW1hbFtyXTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIHJlc3VsdCBjaXJjbGVzXG4gICAgbGV0IGJpbmFyeVJlc3VsdCA9IGNvbnZlcnRUb0JpbmFyeShyZXN1bHRzKTtcbiAgICBsZXQgaW5kZXg6IG51bWJlciA9IDA7XG4gICAgZm9yIChsZXQgYyA9IGVudi5jb2x1bW5zLTE7IGMgPj0gMDsgYy0tKSB7XG4gICAgICAgIGVudi5yZXN1bHRzW2NdLnNldEJpdChiaW5hcnlSZXN1bHRbaW5kZXhdID4gMCA/IHRydWUgOiBmYWxzZSk7XG4gICAgICAgIGluZGV4Kys7XG4gICAgfVxufVxuXG4vKipcbiAqIFxuICogQHBhcmFtIG51bSAtIERlY2ltYWwgbnVtYmVyIHRvIGJlIGNvbnZlcnRlZCBpbnRvIGJpbmFyeVxuICogQHBhcmFtIGJpdHMgLSBMZW5ndGggb2YgcmVzdWx0XG4gKiBAcmV0dXJucyAtIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZGVjaW1hbCBudW1iZXJcbiAqL1xuZnVuY3Rpb24gY29udmVydFRvQmluYXJ5KG51bSA6IG51bWJlciwgYml0cz86IG51bWJlcikgOiBudW1iZXJbXSB7XG4gICAgY29uc3QgYXJyQml0d2lzZSA9IFswXTsgLy8gc2F2ZSB0aGUgcmVzdWx0aW5nIGJpdHdpc2VcbiAgICBiaXRzPSBiaXRzID8/IDMyO1xuICAgIGZvciAobGV0IGk9MDsgaTxiaXRzOyBpKyspIHtcbiAgICAgICAgbGV0IG1hc2sgPSAxO1xuXG4gICAgICAgIGNvbnN0IGJpdCA9IG51bSAmIChtYXNrIDw8IGkpOyAvLyBBbmQgYml0d2lzZSB3aXRoIGxlZnQgc2hpZnRcblxuICAgICAgICBpZihiaXQgPT09IDApIHtcbiAgICAgICAgICAgIGFyckJpdHdpc2VbaV0gPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXJyQml0d2lzZVtpXSA9IDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXJyQml0d2lzZTtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJpbXBvcnQgeyBFbnZpcm9ubWVudCB9IGZyb20gXCIuL2Vudmlyb25tZW50XCI7XG5cbmxldCBlbnY6IEVudmlyb25tZW50ID0gbmV3IEVudmlyb25tZW50KCk7XG5cblxuXG4iXSwibmFtZXMiOlsiZW52aXJvbm1lbnQiLCJ0aGlzIiwiZG9jdW1lbnQiLCJib2R5Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjYW52YXMiLCJnZXRFbGVtZW50QnlJZCIsIkVycm9yIiwiY29udGV4dCIsImdldENvbnRleHQiLCJjbGFzc0FjY2Vzc29yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJtb3VzZUNsaWNrRXZlbnQiLCJ3aW5kb3ciLCJDb21wdXRlIiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJkcmF3TGluZSIsImdldE1vdXNlUG9zaXRpb24iLCJldmVudCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ4IiwiY2xpZW50WCIsImxlZnQiLCJ5IiwiY2xpZW50WSIsInRvcCIsIm1vdXNlUG9zIiwicm93cyIsInNwYWNpbmciLCJzdGFydFkiLCJzdGFydFgiLCJyYWRpdXMiLCJjb2wiLCJjb2x1bW5zIiwiY2lyY2xlcyIsInN3aXRjaEJpdCIsImJlZ2luUGF0aCIsInlQb3MiLCJ4UG9zIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlU3R5bGUiLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJkcmF3QnV0dG9ucyIsIkNhbnZhcyIsInNldCIsInJpZ2h0IiwiYm90dG9tIiwiZHJhdyIsInNldEJpdCIsImJpdCIsImNsZWFyUmVjdCIsImFyYyIsIk1hdGgiLCJQSSIsImZpbGxTdHlsZSIsImZpbGwiLCJDaXJjbGUiLCJFbnZpcm9ubWVudCIsImRlc2lyZWRSYWRpdXMiLCJwYWRkaW5nIiwiQXJyYXkiLCJyZXN1bHRzIiwiYyIsInIiLCJlbnYiLCJkZWNpbWFsIiwicG93IiwiYmluYXJ5UmVzdWx0IiwibnVtIiwiYml0cyIsImFyckJpdHdpc2UiLCJpIiwiY29udmVydFRvQmluYXJ5IiwiaW5kZXgiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyJdLCJzb3VyY2VSb290IjoiIn0=